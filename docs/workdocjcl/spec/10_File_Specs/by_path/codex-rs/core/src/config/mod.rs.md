# `codex-rs/core/src/config/mod.rs`

## Identity
- kind: `source`
- ext: `.rs`
- size_bytes: `186106`
- sha256: `13e63557d0a48dd564719b84a1e42d31a53daa837e99df8c72a2bc17b3f1d486`
- generated_utc: `2026-02-08T10:45:30Z`

## Purpose (Why)
Source file implementing exported/public items listed below.

## Interfaces (Inputs/Outputs)
### Inputs
- filesystem: `codex-rs/core/src/config/mod.rs` (read)

### Outputs / Side Effects
- writes to filesystem

## Public Surface (auto)
- `pub struct Config {`
- `pub struct ConfigBuilder {`
- `pub fn codex_home(mut self, codex_home: PathBuf) -> Self {`
- `pub fn cli_overrides(mut self, cli_overrides: Vec<(String, TomlValue)>) -> Self {`
- `pub fn harness_overrides(mut self, harness_overrides: ConfigOverrides) -> Self {`
- `pub fn loader_overrides(mut self, loader_overrides: LoaderOverrides) -> Self {`
- `pub fn cloud_requirements(mut self, cloud_requirements: CloudRequirementsLoader) -> Self {`
- `pub fn fallback_cwd(mut self, fallback_cwd: Option<PathBuf>) -> Self {`
- `pub fn load_default_with_cli_overrides(`
- `pub fn set_project_trust_level(`
- `pub fn set_default_oss_provider(codex_home: &Path, provider: &str) -> std::io::Result<()> {`
- `pub struct ConfigToml {`
- `pub struct ProjectConfig {`
- `pub fn is_trusted(&self) -> bool {`
- `pub fn is_untrusted(&self) -> bool {`
- `pub struct ToolsToml {`
- `pub struct AgentsToml {`
- `pub struct GhostSnapshotToml {`
- `pub struct SandboxPolicyResolution {`
- `pub fn get_active_project(&self, resolved_cwd: &Path) -> Option<ProjectConfig> {`
- `pub fn get_config_profile(`
- `pub struct ConfigOverrides {`
- `pub fn resolve_oss_provider(`
- `pub fn set_windows_sandbox_enabled(&mut self, value: bool) {`
- `pub fn set_windows_elevated_sandbox_enabled(&mut self, value: bool) {`
- `pub fn find_codex_home() -> std::io::Result<PathBuf> {`
- `pub fn log_dir(cfg: &Config) -> std::io::Result<PathBuf> {`

## Definitions (auto, per-file)
- `use` `codex-rs/core/src/config/mod.rs:1` `use crate::auth::AuthCredentialsStoreMode;`
- `use` `codex-rs/core/src/config/mod.rs:2` `use crate::config::edit::ConfigEdit;`
- `use` `codex-rs/core/src/config/mod.rs:3` `use crate::config::edit::ConfigEditsBuilder;`
- `use` `codex-rs/core/src/config/mod.rs:4` `use crate::config::types::AppsConfigToml;`
- `use` `codex-rs/core/src/config/mod.rs:5` `use crate::config::types::DEFAULT_OTEL_ENVIRONMENT;`
- `use` `codex-rs/core/src/config/mod.rs:6` `use crate::config::types::History;`
- `use` `codex-rs/core/src/config/mod.rs:7` `use crate::config::types::McpServerConfig;`
- `use` `codex-rs/core/src/config/mod.rs:8` `use crate::config::types::McpServerDisabledReason;`
- `use` `codex-rs/core/src/config/mod.rs:9` `use crate::config::types::McpServerTransportConfig;`
- `use` `codex-rs/core/src/config/mod.rs:10` `use crate::config::types::Notice;`
- `use` `codex-rs/core/src/config/mod.rs:11` `use crate::config::types::NotificationMethod;`
- `use` `codex-rs/core/src/config/mod.rs:12` `use crate::config::types::Notifications;`
- `use` `codex-rs/core/src/config/mod.rs:13` `use crate::config::types::OtelConfig;`
- `use` `codex-rs/core/src/config/mod.rs:14` `use crate::config::types::OtelConfigToml;`
- `use` `codex-rs/core/src/config/mod.rs:15` `use crate::config::types::OtelExporterKind;`
- `use` `codex-rs/core/src/config/mod.rs:16` `use crate::config::types::SandboxWorkspaceWrite;`
- `use` `codex-rs/core/src/config/mod.rs:17` `use crate::config::types::ShellEnvironmentPolicy;`
- `use` `codex-rs/core/src/config/mod.rs:18` `use crate::config::types::ShellEnvironmentPolicyToml;`
- `use` `codex-rs/core/src/config/mod.rs:19` `use crate::config::types::SkillsConfig;`
- `use` `codex-rs/core/src/config/mod.rs:20` `use crate::config::types::Tui;`
- `use` `codex-rs/core/src/config/mod.rs:21` `use crate::config::types::UriBasedFileOpener;`
- `use` `codex-rs/core/src/config/mod.rs:22` `use crate::config_loader::CloudRequirementsLoader;`
- `use` `codex-rs/core/src/config/mod.rs:23` `use crate::config_loader::ConfigLayerStack;`
- `use` `codex-rs/core/src/config/mod.rs:24` `use crate::config_loader::ConfigRequirements;`
- `use` `codex-rs/core/src/config/mod.rs:25` `use crate::config_loader::ConstrainedWithSource;`
- `use` `codex-rs/core/src/config/mod.rs:26` `use crate::config_loader::LoaderOverrides;`
- `use` `codex-rs/core/src/config/mod.rs:27` `use crate::config_loader::McpServerIdentity;`
- `use` `codex-rs/core/src/config/mod.rs:28` `use crate::config_loader::McpServerRequirement;`
- `use` `codex-rs/core/src/config/mod.rs:29` `use crate::config_loader::ResidencyRequirement;`
- `use` `codex-rs/core/src/config/mod.rs:30` `use crate::config_loader::Sourced;`
- `use` `codex-rs/core/src/config/mod.rs:31` `use crate::config_loader::load_config_layers_state;`
- `use` `codex-rs/core/src/config/mod.rs:32` `use crate::features::Feature;`
- `use` `codex-rs/core/src/config/mod.rs:33` `use crate::features::FeatureOverrides;`
- `use` `codex-rs/core/src/config/mod.rs:34` `use crate::features::Features;`
- `use` `codex-rs/core/src/config/mod.rs:35` `use crate::features::FeaturesToml;`
- `use` `codex-rs/core/src/config/mod.rs:36` `use crate::git_info::resolve_root_git_project_for_trust;`
- `use` `codex-rs/core/src/config/mod.rs:37` `use crate::model_provider_info::LEGACY_OLLAMA_CHAT_PROVIDER_ID;`
- `use` `codex-rs/core/src/config/mod.rs:38` `use crate::model_provider_info::LMSTUDIO_OSS_PROVIDER_ID;`
- `use` `codex-rs/core/src/config/mod.rs:39` `use crate::model_provider_info::ModelProviderInfo;`
- `use` `codex-rs/core/src/config/mod.rs:40` `use crate::model_provider_info::OLLAMA_CHAT_PROVIDER_REMOVED_ERROR;`
- `use` `codex-rs/core/src/config/mod.rs:41` `use crate::model_provider_info::OLLAMA_OSS_PROVIDER_ID;`
- `use` `codex-rs/core/src/config/mod.rs:42` `use crate::model_provider_info::built_in_model_providers;`
- `use` `codex-rs/core/src/config/mod.rs:43` `use crate::project_doc::DEFAULT_PROJECT_DOC_FILENAME;`
- `use` `codex-rs/core/src/config/mod.rs:44` `use crate::project_doc::LOCAL_PROJECT_DOC_FILENAME;`
- `use` `codex-rs/core/src/config/mod.rs:45` `use crate::protocol::AskForApproval;`
- `use` `codex-rs/core/src/config/mod.rs:46` `use crate::protocol::SandboxPolicy;`
- `use` `codex-rs/core/src/config/mod.rs:47` `use crate::windows_sandbox::WindowsSandboxLevelExt;`
- `use` `codex-rs/core/src/config/mod.rs:48` `use codex_app_server_protocol::Tools;`
- `use` `codex-rs/core/src/config/mod.rs:49` `use codex_app_server_protocol::UserSavedConfig;`
- `use` `codex-rs/core/src/config/mod.rs:50` `use codex_protocol::config_types::AltScreenMode;`
- `use` `codex-rs/core/src/config/mod.rs:51` `use codex_protocol::config_types::ForcedLoginMethod;`
- `use` `codex-rs/core/src/config/mod.rs:52` `use codex_protocol::config_types::ModeKind;`
- `use` `codex-rs/core/src/config/mod.rs:53` `use codex_protocol::config_types::Personality;`
- `use` `codex-rs/core/src/config/mod.rs:54` `use codex_protocol::config_types::ReasoningSummary;`
- `use` `codex-rs/core/src/config/mod.rs:55` `use codex_protocol::config_types::SandboxMode;`
- `use` `codex-rs/core/src/config/mod.rs:56` `use codex_protocol::config_types::TrustLevel;`
- `use` `codex-rs/core/src/config/mod.rs:57` `use codex_protocol::config_types::Verbosity;`
- `use` `codex-rs/core/src/config/mod.rs:58` `use codex_protocol::config_types::WebSearchMode;`
- `use` `codex-rs/core/src/config/mod.rs:59` `use codex_protocol::config_types::WindowsSandboxLevel;`
- `use` `codex-rs/core/src/config/mod.rs:60` `use codex_protocol::openai_models::ReasoningEffort;`
- `use` `codex-rs/core/src/config/mod.rs:61` `use codex_rmcp_client::OAuthCredentialsStoreMode;`
- `use` `codex-rs/core/src/config/mod.rs:62` `use codex_utils_absolute_path::AbsolutePathBuf;`
- `use` `codex-rs/core/src/config/mod.rs:63` `use codex_utils_absolute_path::AbsolutePathBufGuard;`
- `use` `codex-rs/core/src/config/mod.rs:64` `use schemars::JsonSchema;`
- `use` `codex-rs/core/src/config/mod.rs:65` `use serde::Deserialize;`
- `use` `codex-rs/core/src/config/mod.rs:66` `use serde::Serialize;`
- `use` `codex-rs/core/src/config/mod.rs:67` `use similar::DiffableStr;`
- `use` `codex-rs/core/src/config/mod.rs:68` `use std::collections::BTreeMap;`
- `use` `codex-rs/core/src/config/mod.rs:69` `use std::collections::HashMap;`
- `use` `codex-rs/core/src/config/mod.rs:70` `use std::io::ErrorKind;`
- `use` `codex-rs/core/src/config/mod.rs:71` `use std::path::Path;`
- `use` `codex-rs/core/src/config/mod.rs:72` `use std::path::PathBuf;`
- `use` `codex-rs/core/src/config/mod.rs:74` `use tempfile::tempdir;`
- `use` `codex-rs/core/src/config/mod.rs:76` `use crate::config::profile::ConfigProfile;`
- `use` `codex-rs/core/src/config/mod.rs:77` `use toml::Value as TomlValue;`
- `use` `codex-rs/core/src/config/mod.rs:78` `use toml_edit::DocumentMut;`
- `mod` `codex-rs/core/src/config/mod.rs:80` `mod constraint;`
- `mod` `codex-rs/core/src/config/mod.rs:81` `pub mod edit;`
- `mod` `codex-rs/core/src/config/mod.rs:82` `pub mod profile;`
- `mod` `codex-rs/core/src/config/mod.rs:83` `pub mod schema;`
- `mod` `codex-rs/core/src/config/mod.rs:84` `pub mod service;`
- `mod` `codex-rs/core/src/config/mod.rs:85` `pub mod types;`
- `const` `codex-rs/core/src/config/mod.rs:101` `pub const CONFIG_TOML_FILE: &str = "config.toml";`
- `struct` `codex-rs/core/src/config/mod.rs:116` `pub struct Config {`
- `struct` `codex-rs/core/src/config/mod.rs:382` `pub struct ConfigBuilder {`
- `impl` `codex-rs/core/src/config/mod.rs:391` `impl ConfigBuilder {`
- `fn` `codex-rs/core/src/config/mod.rs:392` `pub fn codex_home(mut self, codex_home: PathBuf) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:397` `pub fn cli_overrides(mut self, cli_overrides: Vec<(String, TomlValue)>) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:402` `pub fn harness_overrides(mut self, harness_overrides: ConfigOverrides) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:407` `pub fn loader_overrides(mut self, loader_overrides: LoaderOverrides) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:412` `pub fn cloud_requirements(mut self, cloud_requirements: CloudRequirementsLoader) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:417` `pub fn fallback_cwd(mut self, fallback_cwd: Option<PathBuf>) -> Self {`
- `fn` `codex-rs/core/src/config/mod.rs:422` `pub async fn build(self) -> std::io::Result<Config> {`
- `impl` `codex-rs/core/src/config/mod.rs:479` `impl Config {`
- `fn` `codex-rs/core/src/config/mod.rs:481` `pub async fn load_with_cli_overrides(`
- `fn` `codex-rs/core/src/config/mod.rs:491` `pub fn load_default_with_cli_overrides(`
- `fn` `codex-rs/core/src/config/mod.rs:519` `pub async fn load_with_cli_overrides_and_harness_overrides(`
- `fn` `codex-rs/core/src/config/mod.rs:534` `pub async fn load_config_as_toml_with_cli_overrides(`
- `fn` `codex-rs/core/src/config/mod.rs:569` `fn filter_mcp_servers_by_requirements(`
- `fn` `codex-rs/core/src/config/mod.rs:594` `fn constrain_mcp_servers(`
- `fn` `codex-rs/core/src/config/mod.rs:644` `fn mcp_server_matches_requirement(`
- `fn` `codex-rs/core/src/config/mod.rs:664` `pub async fn load_global_mcp_servers(`
- `fn` `codex-rs/core/src/config/mod.rs:701` `fn ensure_no_inline_bearer_tokens(value: &TomlValue) -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:791` `pub fn set_project_trust_level(`
- `use` `codex-rs/core/src/config/mod.rs:796` `use crate::config::edit::ConfigEditsBuilder;`
- `fn` `codex-rs/core/src/config/mod.rs:804` `pub fn set_default_oss_provider(codex_home: &Path, provider: &str) -> std::io::Result<()> {`
- `use` `codex-rs/core/src/config/mod.rs:825` `use toml_edit::value;`
- `struct` `codex-rs/core/src/config/mod.rs:841` `pub struct ConfigToml {`
- `impl` `codex-rs/core/src/config/mod.rs:1053` `impl From<ConfigToml> for UserSavedConfig {`
- `fn` `codex-rs/core/src/config/mod.rs:1054` `fn from(config_toml: ConfigToml) -> Self {`
- `struct` `codex-rs/core/src/config/mod.rs:1080` `pub struct ProjectConfig {`
- `impl` `codex-rs/core/src/config/mod.rs:1084` `impl ProjectConfig {`
- `fn` `codex-rs/core/src/config/mod.rs:1085` `pub fn is_trusted(&self) -> bool {`
- `fn` `codex-rs/core/src/config/mod.rs:1089` `pub fn is_untrusted(&self) -> bool {`
- `struct` `codex-rs/core/src/config/mod.rs:1096` `pub struct ToolsToml {`
- `struct` `codex-rs/core/src/config/mod.rs:1107` `pub struct AgentsToml {`
- `impl` `codex-rs/core/src/config/mod.rs:1114` `impl From<ToolsToml> for Tools {`
- `fn` `codex-rs/core/src/config/mod.rs:1115` `fn from(tools_toml: ToolsToml) -> Self {`
- `struct` `codex-rs/core/src/config/mod.rs:1125` `pub struct GhostSnapshotToml {`
- `struct` `codex-rs/core/src/config/mod.rs:1138` `pub struct SandboxPolicyResolution {`
- `impl` `codex-rs/core/src/config/mod.rs:1143` `impl ConfigToml {`
- `fn` `codex-rs/core/src/config/mod.rs:1145` `fn derive_sandbox_policy(`
- `fn` `codex-rs/core/src/config/mod.rs:1222` `pub fn get_active_project(&self, resolved_cwd: &Path) -> Option<ProjectConfig> {`
- `fn` `codex-rs/core/src/config/mod.rs:1242` `pub fn get_config_profile(`
- `struct` `codex-rs/core/src/config/mod.rs:1266` `pub struct ConfigOverrides {`
- `fn` `codex-rs/core/src/config/mod.rs:1289` `pub fn resolve_oss_provider(`
- `fn` `codex-rs/core/src/config/mod.rs:1316` `fn resolve_web_search_mode(`
- `impl` `codex-rs/core/src/config/mod.rs:1369` `impl Config {`
- `fn` `codex-rs/core/src/config/mod.rs:1371` `fn load_from_base_config_with_overrides(`
- `fn` `codex-rs/core/src/config/mod.rs:1381` `fn load_config_with_layer_stack(`
- `use` `codex-rs/core/src/config/mod.rs:1437` `use std::env;`
- `fn` `codex-rs/core/src/config/mod.rs:1818` `fn load_instructions(codex_dir: Option<&Path>) -> Option<String> {`
- `fn` `codex-rs/core/src/config/mod.rs:1836` `fn try_read_non_empty_file(`
- `fn` `codex-rs/core/src/config/mod.rs:1862` `pub fn set_windows_sandbox_enabled(&mut self, value: bool) {`
- `fn` `codex-rs/core/src/config/mod.rs:1871` `pub fn set_windows_elevated_sandbox_enabled(&mut self, value: bool) {`
- `fn` `codex-rs/core/src/config/mod.rs:1888` `fn toml_uses_deprecated_instructions_file(value: &TomlValue) -> bool {`
- `fn` `codex-rs/core/src/config/mod.rs:1913` `pub fn find_codex_home() -> std::io::Result<PathBuf> {`
- `fn` `codex-rs/core/src/config/mod.rs:1919` `pub fn log_dir(cfg: &Config) -> std::io::Result<PathBuf> {`
- `use` `codex-rs/core/src/config/mod.rs:1925` `use crate::config::edit::ConfigEdit;`
- `use` `codex-rs/core/src/config/mod.rs:1926` `use crate::config::edit::ConfigEditsBuilder;`
- `use` `codex-rs/core/src/config/mod.rs:1927` `use crate::config::edit::apply_blocking;`
- `use` `codex-rs/core/src/config/mod.rs:1928` `use crate::config::types::FeedbackConfigToml;`
- `use` `codex-rs/core/src/config/mod.rs:1929` `use crate::config::types::HistoryPersistence;`
- `use` `codex-rs/core/src/config/mod.rs:1930` `use crate::config::types::McpServerTransportConfig;`
- `use` `codex-rs/core/src/config/mod.rs:1931` `use crate::config::types::NotificationMethod;`
- `use` `codex-rs/core/src/config/mod.rs:1932` `use crate::config::types::Notifications;`
- `use` `codex-rs/core/src/config/mod.rs:1933` `use crate::config_loader::RequirementSource;`
- `use` `codex-rs/core/src/config/mod.rs:1934` `use crate::features::Feature;`
- `use` `codex-rs/core/src/config/mod.rs:1936` `use super::*;`
- `use` `codex-rs/core/src/config/mod.rs:1937` `use core_test_support::test_absolute_path;`
- `use` `codex-rs/core/src/config/mod.rs:1938` `use pretty_assertions::assert_eq;`
- `use` `codex-rs/core/src/config/mod.rs:1940` `use std::collections::BTreeMap;`
- `use` `codex-rs/core/src/config/mod.rs:1941` `use std::collections::HashMap;`
- `use` `codex-rs/core/src/config/mod.rs:1942` `use std::time::Duration;`
- `use` `codex-rs/core/src/config/mod.rs:1943` `use tempfile::TempDir;`
- `fn` `codex-rs/core/src/config/mod.rs:1945` `fn stdio_mcp(command: &str) -> McpServerConfig {`
- `fn` `codex-rs/core/src/config/mod.rs:1965` `fn http_mcp(url: &str) -> McpServerConfig {`
- `fn` `codex-rs/core/src/config/mod.rs:1985` `fn test_toml_parsing() {`
- `fn` `codex-rs/core/src/config/mod.rs:2017` `fn tui_config_missing_notifications_field_defaults_to_enabled() {`
- `fn` `codex-rs/core/src/config/mod.rs:2041` `fn test_sandbox_config_parsing() {`
- `fn` `codex-rs/core/src/config/mod.rs:2191` `fn filter_mcp_servers_by_allowlist_enforces_identity_rules() {`
- `const` `codex-rs/core/src/config/mod.rs:2192` `const MISMATCHED_COMMAND_SERVER: &str = "mismatched-command-should-disable";`
- `const` `codex-rs/core/src/config/mod.rs:2193` `const MISMATCHED_URL_SERVER: &str = "mismatched-url-should-disable";`
- `const` `codex-rs/core/src/config/mod.rs:2194` `const MATCHED_COMMAND_SERVER: &str = "matched-command-should-allow";`
- `const` `codex-rs/core/src/config/mod.rs:2195` `const MATCHED_URL_SERVER: &str = "matched-url-should-allow";`
- `const` `codex-rs/core/src/config/mod.rs:2196` `const DIFFERENT_NAME_SERVER: &str = "different-name-should-disable";`
- `const` `codex-rs/core/src/config/mod.rs:2198` `const GOOD_CMD: &str = "good-cmd";`
- `const` `codex-rs/core/src/config/mod.rs:2199` `const GOOD_URL: &str = "https://example.com/good";`
- `fn` `codex-rs/core/src/config/mod.rs:2274` `fn filter_mcp_servers_by_allowlist_allows_all_when_unset() {`
- `fn` `codex-rs/core/src/config/mod.rs:2298` `fn filter_mcp_servers_by_allowlist_blocks_all_when_empty() {`
- `fn` `codex-rs/core/src/config/mod.rs:2325` `fn add_dir_override_extends_workspace_writable_roots() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2376` `fn config_defaults_to_file_cli_auth_store_mode() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2395` `fn config_honors_explicit_keyring_auth_store_mode() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2417` `fn config_defaults_to_auto_oauth_store_mode() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2436` `fn feedback_enabled_defaults_to_true() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2455` `fn web_search_mode_defaults_to_none_if_unset() {`
- `fn` `codex-rs/core/src/config/mod.rs:2464` `fn web_search_mode_prefers_profile_over_legacy_flags() {`
- `fn` `codex-rs/core/src/config/mod.rs:2480` `fn web_search_mode_disabled_overrides_legacy_request() {`
- `fn` `codex-rs/core/src/config/mod.rs:2496` `fn web_search_mode_for_turn_uses_preference_for_read_only() {`
- `fn` `codex-rs/core/src/config/mod.rs:2504` `fn web_search_mode_for_turn_prefers_live_for_danger_full_access() {`
- `fn` `codex-rs/core/src/config/mod.rs:2513` `fn web_search_mode_for_turn_respects_disabled_for_danger_full_access() {`
- `fn` `codex-rs/core/src/config/mod.rs:2522` `fn web_search_mode_for_turn_falls_back_when_live_is_disallowed() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2544` `fn profile_legacy_toggles_override_base() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2572` `async fn project_profile_overrides_user_profile() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2618` `fn profile_sandbox_mode_overrides_base() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2651` `fn cli_override_takes_precedence_over_profile_sandbox_mode() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2696` `fn feature_table_overrides_legacy_flags() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2718` `fn legacy_toggles_map_to_features() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2743` `fn responses_websocket_features_do_not_change_wire_api() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2769` `fn config_honors_explicit_file_oauth_store_mode() -> std::io::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2791` `async fn managed_config_overrides_oauth_store_mode() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2842` `async fn load_global_mcp_servers_returns_empty_if_missing() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2852` `async fn replace_mcp_servers_round_trips_entries() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2919` `async fn managed_config_wins_over_cli_overrides() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2960` `async fn load_global_mcp_servers_accepts_legacy_ms_field() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:2982` `async fn load_global_mcp_servers_rejects_inline_bearer_token() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:3007` `async fn replace_mcp_servers_serializes_env_sorted() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:3081` `async fn replace_mcp_servers_serializes_env_vars() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:3131` `async fn replace_mcp_servers_serializes_cwd() -> anyhow::Result<()> {`
- `fn` `codex-rs/core/src/config/mod.rs:3182` `async fn replace_mcp_servers_streamable_http_serializes_bearer_token() -> anyhow::Result<()> {`
- (â€¦ 55 more definitions omitted; see symbol indexes under `docs/workdocjcl/spec/13_Indexes/`)

## Dependencies (auto sample)
### Imports / Includes
- `use crate::auth::AuthCredentialsStoreMode;`
- `use crate::config::edit::ConfigEdit;`
- `use crate::config::edit::ConfigEditsBuilder;`
- `use crate::config::types::AppsConfigToml;`
- `use crate::config::types::DEFAULT_OTEL_ENVIRONMENT;`
- `use crate::config::types::History;`
- `use crate::config::types::McpServerConfig;`
- `use crate::config::types::McpServerDisabledReason;`
- `use crate::config::types::McpServerTransportConfig;`
- `use crate::config::types::Notice;`
- `use crate::config::types::NotificationMethod;`
- `use crate::config::types::Notifications;`
- `use crate::config::types::OtelConfig;`
- `use crate::config::types::OtelConfigToml;`
- `use crate::config::types::OtelExporterKind;`
- `use crate::config::types::SandboxWorkspaceWrite;`
- `use crate::config::types::ShellEnvironmentPolicy;`
- `use crate::config::types::ShellEnvironmentPolicyToml;`
- `use crate::config::types::SkillsConfig;`
- `use crate::config::types::Tui;`
### Referenced env vars
- (none detected)

## Error Handling / Edge Cases
- has retry/timeout/backoff logic
- returns structured errors (Result/ErrorKind)
- uses Rust panic/expect/unwrap-style failure paths

## Spec Links
- `docs/workdocjcl/spec/00_Overview/ARCHITECTURE.md`
