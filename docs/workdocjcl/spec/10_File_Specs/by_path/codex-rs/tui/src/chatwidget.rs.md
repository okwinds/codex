# `codex-rs/tui/src/chatwidget.rs`

## Identity
- kind: `source`
- ext: `.rs`
- size_bytes: `278505`
- sha256: `9f84fa07fa360a3cb38dbf901b6207b8b8a74292d69f3f6106178c0f68cd3505`
- generated_utc: `2026-02-08T10:45:39Z`

## Purpose (Why)
Source file (no public surface detected by heuristic).

## Interfaces (Inputs/Outputs)
### Inputs
- filesystem: `codex-rs/tui/src/chatwidget.rs` (read)

### Outputs / Side Effects
- spawns subprocesses

## Public Surface (auto)
- (none detected)

## Definitions (auto, per-file)
- `use` `codex-rs/tui/src/chatwidget.rs:28` `use std::collections::HashMap;`
- `use` `codex-rs/tui/src/chatwidget.rs:29` `use std::collections::HashSet;`
- `use` `codex-rs/tui/src/chatwidget.rs:30` `use std::collections::VecDeque;`
- `use` `codex-rs/tui/src/chatwidget.rs:31` `use std::path::Path;`
- `use` `codex-rs/tui/src/chatwidget.rs:32` `use std::path::PathBuf;`
- `use` `codex-rs/tui/src/chatwidget.rs:33` `use std::sync::Arc;`
- `use` `codex-rs/tui/src/chatwidget.rs:34` `use std::sync::atomic::AtomicBool;`
- `use` `codex-rs/tui/src/chatwidget.rs:35` `use std::sync::atomic::Ordering;`
- `use` `codex-rs/tui/src/chatwidget.rs:36` `use std::time::Duration;`
- `use` `codex-rs/tui/src/chatwidget.rs:37` `use std::time::Instant;`
- `use` `codex-rs/tui/src/chatwidget.rs:39` `use crate::bottom_pane::StatusLineItem;`
- `use` `codex-rs/tui/src/chatwidget.rs:40` `use crate::bottom_pane::StatusLineSetupView;`
- `use` `codex-rs/tui/src/chatwidget.rs:41` `use crate::status::RateLimitWindowDisplay;`
- `use` `codex-rs/tui/src/chatwidget.rs:42` `use crate::status::format_directory_display;`
- `use` `codex-rs/tui/src/chatwidget.rs:43` `use crate::status::format_tokens_compact;`
- `use` `codex-rs/tui/src/chatwidget.rs:44` `use crate::text_formatting::proper_join;`
- `use` `codex-rs/tui/src/chatwidget.rs:45` `use crate::version::CODEX_CLI_VERSION;`
- `use` `codex-rs/tui/src/chatwidget.rs:46` `use codex_app_server_protocol::ConfigLayerSource;`
- `use` `codex-rs/tui/src/chatwidget.rs:47` `use codex_backend_client::Client as BackendClient;`
- `use` `codex-rs/tui/src/chatwidget.rs:48` `use codex_chatgpt::connectors;`
- `use` `codex-rs/tui/src/chatwidget.rs:49` `use codex_core::config::Config;`
- `use` `codex-rs/tui/src/chatwidget.rs:50` `use codex_core::config::ConstraintResult;`
- `use` `codex-rs/tui/src/chatwidget.rs:51` `use codex_core::config::types::Notifications;`
- `use` `codex-rs/tui/src/chatwidget.rs:52` `use codex_core::config_loader::ConfigLayerStackOrdering;`
- `use` `codex-rs/tui/src/chatwidget.rs:53` `use codex_core::features::FEATURES;`
- `use` `codex-rs/tui/src/chatwidget.rs:54` `use codex_core::features::Feature;`
- `use` `codex-rs/tui/src/chatwidget.rs:55` `use codex_core::find_thread_name_by_id;`
- `use` `codex-rs/tui/src/chatwidget.rs:56` `use codex_core::git_info::current_branch_name;`
- `use` `codex-rs/tui/src/chatwidget.rs:57` `use codex_core::git_info::get_git_repo_root;`
- `use` `codex-rs/tui/src/chatwidget.rs:58` `use codex_core::git_info::local_git_branches;`
- `use` `codex-rs/tui/src/chatwidget.rs:59` `use codex_core::models_manager::manager::ModelsManager;`
- `use` `codex-rs/tui/src/chatwidget.rs:60` `use codex_core::project_doc::DEFAULT_PROJECT_DOC_FILENAME;`
- `use` `codex-rs/tui/src/chatwidget.rs:61` `use codex_core::protocol::AgentMessageDeltaEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:62` `use codex_core::protocol::AgentMessageEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:63` `use codex_core::protocol::AgentReasoningDeltaEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:64` `use codex_core::protocol::AgentReasoningEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:65` `use codex_core::protocol::AgentReasoningRawContentDeltaEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:66` `use codex_core::protocol::AgentReasoningRawContentEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:67` `use codex_core::protocol::ApplyPatchApprovalRequestEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:68` `use codex_core::protocol::BackgroundEventEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:69` `use codex_core::protocol::CodexErrorInfo;`
- `use` `codex-rs/tui/src/chatwidget.rs:70` `use codex_core::protocol::CreditsSnapshot;`
- `use` `codex-rs/tui/src/chatwidget.rs:71` `use codex_core::protocol::DeprecationNoticeEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:72` `use codex_core::protocol::ErrorEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:73` `use codex_core::protocol::Event;`
- `use` `codex-rs/tui/src/chatwidget.rs:74` `use codex_core::protocol::EventMsg;`
- `use` `codex-rs/tui/src/chatwidget.rs:75` `use codex_core::protocol::ExecApprovalRequestEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:76` `use codex_core::protocol::ExecCommandBeginEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:77` `use codex_core::protocol::ExecCommandEndEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:78` `use codex_core::protocol::ExecCommandOutputDeltaEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:79` `use codex_core::protocol::ExecCommandSource;`
- `use` `codex-rs/tui/src/chatwidget.rs:80` `use codex_core::protocol::ExitedReviewModeEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:81` `use codex_core::protocol::ListCustomPromptsResponseEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:82` `use codex_core::protocol::ListSkillsResponseEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:83` `use codex_core::protocol::McpListToolsResponseEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:84` `use codex_core::protocol::McpStartupCompleteEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:85` `use codex_core::protocol::McpStartupStatus;`
- `use` `codex-rs/tui/src/chatwidget.rs:86` `use codex_core::protocol::McpStartupUpdateEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:87` `use codex_core::protocol::McpToolCallBeginEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:88` `use codex_core::protocol::McpToolCallEndEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:89` `use codex_core::protocol::Op;`
- `use` `codex-rs/tui/src/chatwidget.rs:90` `use codex_core::protocol::PatchApplyBeginEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:91` `use codex_core::protocol::RateLimitSnapshot;`
- `use` `codex-rs/tui/src/chatwidget.rs:92` `use codex_core::protocol::ReviewRequest;`
- `use` `codex-rs/tui/src/chatwidget.rs:93` `use codex_core::protocol::ReviewTarget;`
- `use` `codex-rs/tui/src/chatwidget.rs:94` `use codex_core::protocol::SkillMetadata as ProtocolSkillMetadata;`
- `use` `codex-rs/tui/src/chatwidget.rs:95` `use codex_core::protocol::StreamErrorEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:96` `use codex_core::protocol::TerminalInteractionEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:97` `use codex_core::protocol::TokenUsage;`
- `use` `codex-rs/tui/src/chatwidget.rs:98` `use codex_core::protocol::TokenUsageInfo;`
- `use` `codex-rs/tui/src/chatwidget.rs:99` `use codex_core::protocol::TurnAbortReason;`
- `use` `codex-rs/tui/src/chatwidget.rs:100` `use codex_core::protocol::TurnCompleteEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:101` `use codex_core::protocol::TurnDiffEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:102` `use codex_core::protocol::UndoCompletedEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:103` `use codex_core::protocol::UndoStartedEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:104` `use codex_core::protocol::UserMessageEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:105` `use codex_core::protocol::ViewImageToolCallEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:106` `use codex_core::protocol::WarningEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:107` `use codex_core::protocol::WebSearchBeginEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:108` `use codex_core::protocol::WebSearchEndEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:109` `use codex_core::skills::model::SkillMetadata;`
- `use` `codex-rs/tui/src/chatwidget.rs:111` `use codex_core::windows_sandbox::WindowsSandboxLevelExt;`
- `use` `codex-rs/tui/src/chatwidget.rs:112` `use codex_otel::OtelManager;`
- `use` `codex-rs/tui/src/chatwidget.rs:113` `use codex_otel::RuntimeMetricsSummary;`
- `use` `codex-rs/tui/src/chatwidget.rs:114` `use codex_protocol::ThreadId;`
- `use` `codex-rs/tui/src/chatwidget.rs:115` `use codex_protocol::account::PlanType;`
- `use` `codex-rs/tui/src/chatwidget.rs:116` `use codex_protocol::approvals::ElicitationRequestEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:117` `use codex_protocol::config_types::CollaborationMode;`
- `use` `codex-rs/tui/src/chatwidget.rs:118` `use codex_protocol::config_types::CollaborationModeMask;`
- `use` `codex-rs/tui/src/chatwidget.rs:119` `use codex_protocol::config_types::ModeKind;`
- `use` `codex-rs/tui/src/chatwidget.rs:120` `use codex_protocol::config_types::Personality;`
- `use` `codex-rs/tui/src/chatwidget.rs:121` `use codex_protocol::config_types::Settings;`
- `use` `codex-rs/tui/src/chatwidget.rs:123` `use codex_protocol::config_types::WindowsSandboxLevel;`
- `use` `codex-rs/tui/src/chatwidget.rs:124` `use codex_protocol::items::AgentMessageItem;`
- `use` `codex-rs/tui/src/chatwidget.rs:125` `use codex_protocol::models::MessagePhase;`
- `use` `codex-rs/tui/src/chatwidget.rs:126` `use codex_protocol::models::local_image_label_text;`
- `use` `codex-rs/tui/src/chatwidget.rs:127` `use codex_protocol::parse_command::ParsedCommand;`
- `use` `codex-rs/tui/src/chatwidget.rs:128` `use codex_protocol::request_user_input::RequestUserInputEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:129` `use codex_protocol::user_input::TextElement;`
- `use` `codex-rs/tui/src/chatwidget.rs:130` `use codex_protocol::user_input::UserInput;`
- `use` `codex-rs/tui/src/chatwidget.rs:131` `use crossterm::event::KeyCode;`
- `use` `codex-rs/tui/src/chatwidget.rs:132` `use crossterm::event::KeyEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:133` `use crossterm::event::KeyEventKind;`
- `use` `codex-rs/tui/src/chatwidget.rs:134` `use crossterm::event::KeyModifiers;`
- `use` `codex-rs/tui/src/chatwidget.rs:135` `use rand::Rng;`
- `use` `codex-rs/tui/src/chatwidget.rs:136` `use ratatui::buffer::Buffer;`
- `use` `codex-rs/tui/src/chatwidget.rs:137` `use ratatui::layout::Rect;`
- `use` `codex-rs/tui/src/chatwidget.rs:138` `use ratatui::style::Color;`
- `use` `codex-rs/tui/src/chatwidget.rs:139` `use ratatui::style::Modifier;`
- `use` `codex-rs/tui/src/chatwidget.rs:140` `use ratatui::style::Style;`
- `use` `codex-rs/tui/src/chatwidget.rs:141` `use ratatui::style::Stylize;`
- `use` `codex-rs/tui/src/chatwidget.rs:142` `use ratatui::text::Line;`
- `use` `codex-rs/tui/src/chatwidget.rs:143` `use ratatui::widgets::Paragraph;`
- `use` `codex-rs/tui/src/chatwidget.rs:144` `use ratatui::widgets::Wrap;`
- `use` `codex-rs/tui/src/chatwidget.rs:145` `use tokio::sync::mpsc::UnboundedSender;`
- `use` `codex-rs/tui/src/chatwidget.rs:146` `use tokio::task::JoinHandle;`
- `use` `codex-rs/tui/src/chatwidget.rs:147` `use tracing::debug;`
- `const` `codex-rs/tui/src/chatwidget.rs:149` `const DEFAULT_MODEL_DISPLAY_NAME: &str = "loading";`
- `const` `codex-rs/tui/src/chatwidget.rs:150` `const PLAN_IMPLEMENTATION_TITLE: &str = "Implement this plan?";`
- `const` `codex-rs/tui/src/chatwidget.rs:151` `const PLAN_IMPLEMENTATION_YES: &str = "Yes, implement this plan";`
- `const` `codex-rs/tui/src/chatwidget.rs:152` `const PLAN_IMPLEMENTATION_NO: &str = "No, stay in Plan mode";`
- `const` `codex-rs/tui/src/chatwidget.rs:153` `const PLAN_IMPLEMENTATION_CODING_MESSAGE: &str = "Implement the plan.";`
- `use` `codex-rs/tui/src/chatwidget.rs:155` `use crate::app_event::AppEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:156` `use crate::app_event::ConnectorsSnapshot;`
- `use` `codex-rs/tui/src/chatwidget.rs:157` `use crate::app_event::ExitMode;`
- `use` `codex-rs/tui/src/chatwidget.rs:159` `use crate::app_event::WindowsSandboxEnableMode;`
- `use` `codex-rs/tui/src/chatwidget.rs:160` `use crate::app_event::WindowsSandboxFallbackReason;`
- `use` `codex-rs/tui/src/chatwidget.rs:161` `use crate::app_event_sender::AppEventSender;`
- `use` `codex-rs/tui/src/chatwidget.rs:162` `use crate::bottom_pane::ApprovalRequest;`
- `use` `codex-rs/tui/src/chatwidget.rs:163` `use crate::bottom_pane::BottomPane;`
- `use` `codex-rs/tui/src/chatwidget.rs:164` `use crate::bottom_pane::BottomPaneParams;`
- `use` `codex-rs/tui/src/chatwidget.rs:165` `use crate::bottom_pane::CancellationEvent;`
- `use` `codex-rs/tui/src/chatwidget.rs:166` `use crate::bottom_pane::CollaborationModeIndicator;`
- `use` `codex-rs/tui/src/chatwidget.rs:167` `use crate::bottom_pane::ColumnWidthMode;`
- `use` `codex-rs/tui/src/chatwidget.rs:168` `use crate::bottom_pane::DOUBLE_PRESS_QUIT_SHORTCUT_ENABLED;`
- `use` `codex-rs/tui/src/chatwidget.rs:169` `use crate::bottom_pane::ExperimentalFeatureItem;`
- `use` `codex-rs/tui/src/chatwidget.rs:170` `use crate::bottom_pane::ExperimentalFeaturesView;`
- `use` `codex-rs/tui/src/chatwidget.rs:171` `use crate::bottom_pane::FeedbackAudience;`
- `use` `codex-rs/tui/src/chatwidget.rs:172` `use crate::bottom_pane::InputResult;`
- `use` `codex-rs/tui/src/chatwidget.rs:173` `use crate::bottom_pane::LocalImageAttachment;`
- `use` `codex-rs/tui/src/chatwidget.rs:174` `use crate::bottom_pane::MentionBinding;`
- `use` `codex-rs/tui/src/chatwidget.rs:175` `use crate::bottom_pane::QUIT_SHORTCUT_TIMEOUT;`
- `use` `codex-rs/tui/src/chatwidget.rs:176` `use crate::bottom_pane::SelectionAction;`
- `use` `codex-rs/tui/src/chatwidget.rs:177` `use crate::bottom_pane::SelectionItem;`
- `use` `codex-rs/tui/src/chatwidget.rs:178` `use crate::bottom_pane::SelectionViewParams;`
- `use` `codex-rs/tui/src/chatwidget.rs:179` `use crate::bottom_pane::custom_prompt_view::CustomPromptView;`
- `use` `codex-rs/tui/src/chatwidget.rs:180` `use crate::bottom_pane::popup_consts::standard_popup_hint_line;`
- `use` `codex-rs/tui/src/chatwidget.rs:181` `use crate::clipboard_paste::paste_image_to_temp_png;`
- `use` `codex-rs/tui/src/chatwidget.rs:182` `use crate::collab;`
- `use` `codex-rs/tui/src/chatwidget.rs:183` `use crate::collaboration_modes;`
- `use` `codex-rs/tui/src/chatwidget.rs:184` `use crate::diff_render::display_path_for;`
- `use` `codex-rs/tui/src/chatwidget.rs:185` `use crate::exec_cell::CommandOutput;`
- `use` `codex-rs/tui/src/chatwidget.rs:186` `use crate::exec_cell::ExecCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:187` `use crate::exec_cell::new_active_exec_command;`
- `use` `codex-rs/tui/src/chatwidget.rs:188` `use crate::exec_command::strip_bash_lc_and_escape;`
- `use` `codex-rs/tui/src/chatwidget.rs:189` `use crate::get_git_diff::get_git_diff;`
- `use` `codex-rs/tui/src/chatwidget.rs:190` `use crate::history_cell;`
- `use` `codex-rs/tui/src/chatwidget.rs:191` `use crate::history_cell::AgentMessageCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:192` `use crate::history_cell::HistoryCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:193` `use crate::history_cell::McpToolCallCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:194` `use crate::history_cell::PlainHistoryCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:195` `use crate::history_cell::WebSearchCell;`
- `use` `codex-rs/tui/src/chatwidget.rs:196` `use crate::key_hint;`
- `use` `codex-rs/tui/src/chatwidget.rs:197` `use crate::key_hint::KeyBinding;`
- `use` `codex-rs/tui/src/chatwidget.rs:198` `use crate::markdown::append_markdown;`
- `use` `codex-rs/tui/src/chatwidget.rs:199` `use crate::render::Insets;`
- `use` `codex-rs/tui/src/chatwidget.rs:200` `use crate::render::renderable::ColumnRenderable;`
- `use` `codex-rs/tui/src/chatwidget.rs:201` `use crate::render::renderable::FlexRenderable;`
- `use` `codex-rs/tui/src/chatwidget.rs:202` `use crate::render::renderable::Renderable;`
- `use` `codex-rs/tui/src/chatwidget.rs:203` `use crate::render::renderable::RenderableExt;`
- `use` `codex-rs/tui/src/chatwidget.rs:204` `use crate::render::renderable::RenderableItem;`
- `use` `codex-rs/tui/src/chatwidget.rs:205` `use crate::slash_command::SlashCommand;`
- `use` `codex-rs/tui/src/chatwidget.rs:206` `use crate::status::RateLimitSnapshotDisplay;`
- `use` `codex-rs/tui/src/chatwidget.rs:207` `use crate::text_formatting::truncate_text;`
- `use` `codex-rs/tui/src/chatwidget.rs:208` `use crate::tui::FrameRequester;`
- `mod` `codex-rs/tui/src/chatwidget.rs:209` `mod interrupts;`
- `use` `codex-rs/tui/src/chatwidget.rs:210` `use self::interrupts::InterruptManager;`
- `mod` `codex-rs/tui/src/chatwidget.rs:211` `mod agent;`
- `use` `codex-rs/tui/src/chatwidget.rs:212` `use self::agent::spawn_agent;`
- `use` `codex-rs/tui/src/chatwidget.rs:213` `use self::agent::spawn_agent_from_existing;`
- `mod` `codex-rs/tui/src/chatwidget.rs:215` `mod session_header;`
- `use` `codex-rs/tui/src/chatwidget.rs:216` `use self::session_header::SessionHeader;`
- `mod` `codex-rs/tui/src/chatwidget.rs:217` `mod skills;`
- `use` `codex-rs/tui/src/chatwidget.rs:218` `use self::skills::collect_tool_mentions;`
- `use` `codex-rs/tui/src/chatwidget.rs:219` `use self::skills::find_app_mentions;`
- `use` `codex-rs/tui/src/chatwidget.rs:220` `use self::skills::find_skill_mentions_with_tool_mentions;`
- `use` `codex-rs/tui/src/chatwidget.rs:221` `use crate::mention_codec::LinkedMention;`
- `use` `codex-rs/tui/src/chatwidget.rs:222` `use crate::mention_codec::encode_history_mentions;`
- `use` `codex-rs/tui/src/chatwidget.rs:223` `use crate::streaming::chunking::AdaptiveChunkingPolicy;`
- `use` `codex-rs/tui/src/chatwidget.rs:224` `use crate::streaming::commit_tick::CommitTickScope;`
- `use` `codex-rs/tui/src/chatwidget.rs:225` `use crate::streaming::commit_tick::run_commit_tick;`
- `use` `codex-rs/tui/src/chatwidget.rs:226` `use crate::streaming::controller::PlanStreamController;`
- `use` `codex-rs/tui/src/chatwidget.rs:227` `use crate::streaming::controller::StreamController;`
- `use` `codex-rs/tui/src/chatwidget.rs:229` `use chrono::Local;`
- `use` `codex-rs/tui/src/chatwidget.rs:230` `use codex_common::approval_presets::ApprovalPreset;`
- `use` `codex-rs/tui/src/chatwidget.rs:231` `use codex_common::approval_presets::builtin_approval_presets;`
- `use` `codex-rs/tui/src/chatwidget.rs:232` `use codex_core::AuthManager;`
- `use` `codex-rs/tui/src/chatwidget.rs:233` `use codex_core::CodexAuth;`
- `use` `codex-rs/tui/src/chatwidget.rs:234` `use codex_core::ThreadManager;`
- `use` `codex-rs/tui/src/chatwidget.rs:235` `use codex_core::protocol::AskForApproval;`
- (â€¦ 244 more definitions omitted; see symbol indexes under `docs/workdocjcl/spec/13_Indexes/`)

## Dependencies (auto sample)
### Imports / Includes
- `use std::collections::HashMap;`
- `use std::collections::HashSet;`
- `use std::collections::VecDeque;`
- `use std::path::Path;`
- `use std::path::PathBuf;`
- `use std::sync::Arc;`
- `use std::sync::atomic::AtomicBool;`
- `use std::sync::atomic::Ordering;`
- `use std::time::Duration;`
- `use std::time::Instant;`
- `use crate::bottom_pane::StatusLineItem;`
- `use crate::bottom_pane::StatusLineSetupView;`
- `use crate::status::RateLimitWindowDisplay;`
- `use crate::status::format_directory_display;`
- `use crate::status::format_tokens_compact;`
- `use crate::text_formatting::proper_join;`
- `use crate::version::CODEX_CLI_VERSION;`
- `use codex_app_server_protocol::ConfigLayerSource;`
- `use codex_backend_client::Client as BackendClient;`
- `use codex_chatgpt::connectors;`
### Referenced env vars
- (none detected)

## Error Handling / Edge Cases
- has retry/timeout/backoff logic
- returns structured errors (Result/ErrorKind)
- uses Rust panic/expect/unwrap-style failure paths

## Spec Links
- `docs/workdocjcl/spec/06_UI/TUI.md`
