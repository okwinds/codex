{
  "generated_utc": "2026-02-08T10:38:37Z",
  "sources": [
    "codex-rs/core/src/tools/spec.rs",
    "codex-rs/core/src/tools/handlers/plan.rs",
    "codex-rs/core/src/tools/handlers/apply_patch.rs",
    "codex-rs/protocol/src/models.rs"
  ],
  "tool_count": 24,
  "tools": [
    {
      "name": "apply_patch",
      "kind": "freeform",
      "source": {
        "file": "codex-rs/core/src/tools/handlers/apply_patch.rs",
        "line": 264
      },
      "description": {
        "kind": "literal",
        "value": "Use the `apply_patch` tool to edit files. This is a FREEFORM tool, so do not wrap the patch in JSON."
      },
      "strict": null,
      "parameters": null
    },
    {
      "name": "apply_patch",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/handlers/apply_patch.rs",
        "line": 284
      },
      "description": {
        "kind": "expr",
        "expr": "r#\"Use the `apply_patch` tool to edit files.\nYour patch language is a stripped‑down, file‑oriented diff format designed to be easy to parse and safe to apply. You can think of it as a high‑level envelope:\n\n*** Begin Patch\n[ one or more file sections ]\n*** End Patch\n\nWithin that envelope, you get a sequence of file operations.\nYou MUST include a header to specify the action you are taking.\nEach operation starts with one of three headers:\n\n*** Add File: <path> - create a new file. Every following line is a + line (the initial contents).\n*** Delete File: <path> - remove an existing file. Nothing follows.\n*** Update File: <path> - patch an existing file in place (optionally with a rename).\n\nMay be immediately followed by *** Move to: <new path> if you want to rename the file.\nThen one or more “hunks”, each introduced by @@ (optionally followed by a hunk header).\nWithin a hunk each line starts with:\n\nFor instructions on [context_before] and [context_after]:\n- By default, show 3 lines of code immediately above and 3 lines immediately below each change. If a change is within 3 lines of a previous change, do NOT duplicate the first change’s [context_after] lines in the second change’s [context_before] lines.\n- If 3 lines of context is insufficient to uniquely identify the snippet of code within the file, use the @@ operator to indicate the class or function to which the snippet belongs. For instance, we might have:\n@@ class BaseClass\n[3 lines of pre-context]\n- [old_code]\n+ [new_code]\n[3 lines of post-context]\n\n- If a code block is repeated so many times in a class or function such that even a single `@@` statement and 3 lines of context cannot uniquely identify the snippet of code, you can use multiple `@@` statements to jump to the right context. For instance:\n\n@@ class BaseClass\n@@ \t def method():\n[3 lines of pre-context]\n- [old_code]\n+ [new_code]\n[3 lines of post-context]\n\nThe full grammar definition is below:\nPatch := Begin { FileOp } End\nBegin := \"*** Begin Patch\" NEWLINE\nEnd := \"*** End Patch\" NEWLINE\nFileOp := AddFile | DeleteFile | UpdateFile\nAddFile := \"*** Add File: \" path NEWLINE { \"+\" line NEWLINE }\nDeleteFile := \"*** Delete File: \" path NEWLINE\nUpdateFile := \"*** Update File: \" path NEWLINE [ MoveTo ] { Hunk }\nMoveTo := \"*** Move to: \" newPath NEWLINE\nHunk := \"@@\" [ header ] NEWLINE { HunkLine } [ \"*** End of File\" NEWLINE ]\nHunkLine := (\" \" | \"-\" | \"+\") text NEWLINE\n\nA full patch can combine several operations:\n\n*** Begin Patch\n*** Add File: hello.txt\n+Hello world\n*** Update File: src/app.py\n*** Move to: src/main.py\n@@ def greet():\n-print(\"Hi\")\n+print(\"Hello, world!\")\n*** Delete File: obsolete.txt\n*** End Patch\n\nIt is important to remember:\n\n- You must include a header with your intended action (Add/Delete/Update)\n- You must prefix new lines with `+` even when creating a new file\n- File references can only be relative, NEVER ABSOLUTE.\n\"#\n            "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "input": {
            "type": "string",
            "description": "The entire contents of the apply_patch command"
          }
        },
        "additionalProperties": false,
        "required": [
          "input"
        ]
      }
    },
    {
      "name": "close_agent",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 692
      },
      "description": {
        "kind": "expr",
        "expr": "\"Close an agent when it is no longer needed and return its last known status.\"\n            "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Agent id to close (from spawn_agent)."
          }
        },
        "additionalProperties": false,
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "exec_command",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 252
      },
      "description": {
        "kind": "expr",
        "expr": "\"Runs a command in a PTY, returning output or a session ID for ongoing interaction.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "cmd": {
            "type": "string",
            "description": "Shell command to execute."
          },
          "workdir": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Optional working directory to run the command in; defaults to the turn cwd.\"\n                        .to_string()"
            }
          },
          "shell": {
            "type": "string",
            "description": "Shell binary to launch. Defaults to the user's default shell."
          },
          "login": {
            "type": "boolean",
            "description": "Whether to run the shell with -l/-i semantics. Defaults to true."
          },
          "tty": {
            "type": "boolean",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Whether to allocate a TTY for the command. Defaults to false (plain pipes); set to true to open a PTY and access TTY process.\"\n                        .to_string()"
            }
          },
          "yield_time_ms": {
            "type": "number",
            "description": "How long to wait (in milliseconds) for output before yielding."
          },
          "max_output_tokens": {
            "type": "number",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Maximum number of tokens to return. Excess output will be truncated.\"\n                        .to_string()"
            }
          },
          "sandbox_permissions": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Sandbox permissions for the command. Set to \\\"require_escalated\\\" to request running without sandbox restrictions; defaults to \\\"use_default\\\".\"\n                        .to_string()"
            }
          },
          "justification": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "r#\"Only set if sandbox_permissions is \\\"require_escalated\\\". \n                    Request approval from the user to run this command outside the sandbox. \n                    Phrased as a simple question that summarizes the purpose of the \n                    command as it relates to the task at hand - e.g. 'Do you want to \n                    fetch and pull the latest version of this git branch?'\"#\n                    .to_string()"
            }
          },
          "prefix_rule": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Only specify when sandbox_permissions is `require_escalated`. \n                    Suggest a prefix command pattern that will allow you to fulfill similar requests from the user in the future.\n                    Should be a short but reasonable prefix, e.g. [\\\"git\\\", \\\"pull\\\"] or [\\\"uv\\\", \\\"run\\\"] or [\\\"pytest\\\"].",
            "x_present_if": "include_prefix_rule"
          }
        },
        "additionalProperties": false,
        "required": [
          "cmd"
        ]
      }
    },
    {
      "name": "get_memory",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 671
      },
      "description": {
        "kind": "literal",
        "value": "Loads the full stored memory payload for a memory_id."
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "memory_id": {
            "type": "string",
            "description": "Memory ID to fetch. Uses the thread ID as the memory identifier."
          }
        },
        "additionalProperties": false,
        "required": [
          "memory_id"
        ]
      }
    },
    {
      "name": "grep_files",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 809
      },
      "description": {
        "kind": "expr",
        "expr": "\"Finds files whose contents match the pattern and lists them by modification \\\n                      time.\"\n            "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string",
            "description": "Regular expression pattern to search for."
          },
          "include": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Optional glob that limits which files are searched (e.g. \\\"*.rs\\\" or \\\n                     \\\"*.{ts,tsx}\\\").\"\n                        .to_string()"
            }
          },
          "path": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Directory or file path to search. Defaults to the session's working directory.\"\n                        .to_string()"
            }
          },
          "limit": {
            "type": "number",
            "description": "Maximum number of file paths to return (defaults to 100)."
          }
        },
        "additionalProperties": false,
        "required": [
          "pattern"
        ]
      }
    },
    {
      "name": "list_dir",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 958
      },
      "description": {
        "kind": "expr",
        "expr": "\"Lists entries in a local directory with 1-indexed entry numbers and simple type labels.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "dir_path": {
            "type": "string",
            "description": "Absolute path to the directory to list."
          },
          "offset": {
            "type": "number",
            "description": "The entry number to start listing from. Must be 1 or greater."
          },
          "limit": {
            "type": "number",
            "description": "The maximum number of entries to return."
          },
          "depth": {
            "type": "number",
            "description": "The maximum directory depth to traverse. Must be 1 or greater."
          }
        },
        "additionalProperties": false,
        "required": [
          "dir_path"
        ]
      }
    },
    {
      "name": "list_mcp_resource_templates",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 1028
      },
      "description": {
        "kind": "literal",
        "value": "Lists resource templates provided by MCP servers. Parameterized resource templates allow servers to share data that takes parameters and provides context to language models, such as files, database schemas, or application-specific information. Prefer resource templates over web search when possible."
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "server": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Optional MCP server name. When omitted, lists resource templates from all configured servers.\"\n                        .to_string()"
            }
          },
          "cursor": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Opaque cursor returned by a previous list_mcp_resource_templates call for the same server.\"\n                        .to_string()"
            }
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "list_mcp_resources",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 994
      },
      "description": {
        "kind": "literal",
        "value": "Lists resources provided by MCP servers. Resources allow servers to share data that provides context to language models, such as files, database schemas, or application-specific information. Prefer resources over web search when possible."
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "server": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Optional MCP server name. When omitted, lists resources from every configured server.\"\n                        .to_string()"
            }
          },
          "cursor": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Opaque cursor returned by a previous list_mcp_resources call for the same server.\"\n                        .to_string()"
            }
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "local_shell",
      "kind": "local_shell",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 1
      },
      "description": {
        "kind": "note",
        "value": "ToolSpec::LocalShell {} (no JSON schema; uses protocol LocalShellCall params)."
      },
      "strict": null,
      "parameters": null
    },
    {
      "name": "read_file",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 912
      },
      "description": {
        "kind": "expr",
        "expr": "\"Reads a local file with 1-indexed line numbers, supporting slice and indentation-aware block modes.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Absolute path to the file"
          },
          "offset": {
            "type": "number",
            "description": "The line number to start reading from. Must be 1 or greater."
          },
          "limit": {
            "type": "number",
            "description": "The maximum number of lines to return."
          },
          "mode": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Optional mode selector: \\\"slice\\\" for simple ranges (default) or \\\"indentation\\\" \\\n                     to expand around an anchor line.\"\n                        .to_string()"
            }
          },
          "indentation": {
            "type": "object",
            "properties": {
              "anchor_line": {
                "type": "number",
                "description_expr": {
                  "kind": "expr",
                  "expr": "\"Anchor line to center the indentation lookup on (defaults to offset).\"\n                        .to_string()"
                }
              },
              "max_levels": {
                "type": "number",
                "description": "How many parent indentation levels (smaller indents) to include."
              },
              "include_siblings": {
                "type": "boolean",
                "description_expr": {
                  "kind": "expr",
                  "expr": "\"When true, include additional blocks that share the anchor indentation.\"\n                        .to_string()"
                }
              },
              "include_header": {
                "type": "boolean",
                "description_expr": {
                  "kind": "expr",
                  "expr": "\"Include doc comments or attributes directly above the selected block.\"\n                        .to_string()"
                }
              },
              "max_lines": {
                "type": "number",
                "description_expr": {
                  "kind": "expr",
                  "expr": "\"Hard cap on the number of lines returned when using indentation mode.\"\n                        .to_string()"
                }
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false,
        "required": [
          "file_path"
        ]
      }
    },
    {
      "name": "read_mcp_resource",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 1062
      },
      "description": {
        "kind": "expr",
        "expr": "\"Read a specific resource from an MCP server given the server name and resource URI.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "server": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"MCP server name exactly as configured. Must match the 'server' field returned by list_mcp_resources.\"\n                        .to_string()"
            }
          },
          "uri": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Resource URI to read. Must be one of the URIs returned by list_mcp_resources.\"\n                        .to_string()"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "server",
          "uri"
        ]
      }
    },
    {
      "name": "request_user_input",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 649
      },
      "description": {
        "kind": "expr",
        "expr": "request_user_input_tool_description()"
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "questions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Stable identifier for mapping answers (snake_case)."
                },
                "header": {
                  "type": "string",
                  "description": "Short header label shown in the UI (12 or fewer chars)."
                },
                "question": {
                  "type": "string",
                  "description": "Single-sentence prompt shown to the user."
                },
                "options": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "label": {
                        "type": "string",
                        "description": "User-facing label (1-5 words)."
                      },
                      "description": {
                        "type": "string",
                        "description": "One short sentence explaining impact/tradeoff if selected."
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "label",
                      "description"
                    ]
                  },
                  "description_expr": {
                    "kind": "expr",
                    "expr": "\"Provide 2-3 mutually exclusive choices. Put the recommended option first and suffix its label with \\\"(Recommended)\\\". Do not include an \\\"Other\\\" option in this list; the client will add a free-form \\\"Other\\\" option automatically.\"\n                .to_string()"
                  }
                }
              },
              "additionalProperties": false,
              "required": [
                "id",
                "header",
                "question",
                "options"
              ]
            },
            "description": "Questions to show the user. Prefer 1 and do not exceed 3"
          }
        },
        "additionalProperties": false,
        "required": [
          "questions"
        ]
      }
    },
    {
      "name": "resume_agent",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 532
      },
      "description": {
        "kind": "expr",
        "expr": "\"Resume a previously closed agent by id so it can receive send_input and wait calls.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Agent id to resume."
          }
        },
        "additionalProperties": false,
        "required": [
          "id"
        ]
      }
    },
    {
      "name": "send_input",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 509
      },
      "description": {
        "kind": "expr",
        "expr": "\"Send a message to an existing agent. Use interrupt=true to redirect work immediately.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Agent id to message (from spawn_agent)."
          },
          "message": {
            "type": "string",
            "description": "Message to send to the agent."
          },
          "interrupt": {
            "type": "boolean",
            "description_expr": {
              "kind": "expr",
              "expr": "\"When true, stop the agent's current task and handle this immediately. When false (default), queue this message.\"\n                    .to_string()"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "message"
        ]
      }
    },
    {
      "name": "shell",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 354
      },
      "description": {
        "kind": "expr",
        "expr": "description"
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "command": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The command to execute"
          },
          "workdir": {
            "type": "string",
            "description": "The working directory to execute the command in"
          },
          "timeout_ms": {
            "type": "number",
            "description": "The timeout for the command in milliseconds"
          },
          "sandbox_permissions": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Sandbox permissions for the command. Set to \\\"require_escalated\\\" to request running without sandbox restrictions; defaults to \\\"use_default\\\".\"\n                        .to_string()"
            }
          },
          "justification": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "r#\"Only set if sandbox_permissions is \\\"require_escalated\\\". \n                    Request approval from the user to run this command outside the sandbox. \n                    Phrased as a simple question that summarizes the purpose of the \n                    command as it relates to the task at hand - e.g. 'Do you want to \n                    fetch and pull the latest version of this git branch?'\"#\n                    .to_string()"
            }
          },
          "prefix_rule": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Only specify when sandbox_permissions is `require_escalated`. \n                    Suggest a prefix command pattern that will allow you to fulfill similar requests from the user in the future.\n                    Should be a short but reasonable prefix, e.g. [\\\"git\\\", \\\"pull\\\"] or [\\\"uv\\\", \\\"run\\\"] or [\\\"pytest\\\"].",
            "x_present_if": "include_prefix_rule"
          }
        },
        "additionalProperties": false,
        "required": [
          "command"
        ]
      }
    },
    {
      "name": "shell_command",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 416
      },
      "description": {
        "kind": "expr",
        "expr": "description"
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "command": {
            "type": "string",
            "description": "The shell script to execute in the user's default shell"
          },
          "workdir": {
            "type": "string",
            "description": "The working directory to execute the command in"
          },
          "login": {
            "type": "boolean",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Whether to run the shell with login shell semantics. Defaults to true.\"\n                        .to_string()"
            }
          },
          "timeout_ms": {
            "type": "number",
            "description": "The timeout for the command in milliseconds"
          },
          "sandbox_permissions": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Sandbox permissions for the command. Set to \\\"require_escalated\\\" to request running without sandbox restrictions; defaults to \\\"use_default\\\".\"\n                        .to_string()"
            }
          },
          "justification": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "r#\"Only set if sandbox_permissions is \\\"require_escalated\\\". \n                    Request approval from the user to run this command outside the sandbox. \n                    Phrased as a simple question that summarizes the purpose of the \n                    command as it relates to the task at hand - e.g. 'Do you want to \n                    fetch and pull the latest version of this git branch?'\"#\n                    .to_string()"
            }
          },
          "prefix_rule": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Only specify when sandbox_permissions is `require_escalated`. \n                    Suggest a prefix command pattern that will allow you to fulfill similar requests from the user in the future.\n                    Should be a short but reasonable prefix, e.g. [\\\"git\\\", \\\"pull\\\"] or [\\\"uv\\\", \\\"run\\\"] or [\\\"pytest\\\"].",
            "x_present_if": "include_prefix_rule"
          }
        },
        "additionalProperties": false,
        "required": [
          "command"
        ]
      }
    },
    {
      "name": "spawn_agent",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 471
      },
      "description": {
        "kind": "expr",
        "expr": "\"Spawn a sub-agent for a well-scoped task. Returns the agent id to use to communicate with this agent.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Initial task for the new agent. Include scope, constraints, and the expected output.\"\n                    .to_string()"
            }
          },
          "agent_type": {
            "type": "string",
            "description_expr": {
              "kind": "expr",
              "expr": "format!(\n                \"Optional agent type ({}). Use an explicit type when delegating.\",\n                AgentRole::enum_values().join(\", \")\n            )"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "message"
        ]
      }
    },
    {
      "name": "test_sync_tool",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 760
      },
      "description": {
        "kind": "literal",
        "value": "Internal synchronization helper used by Codex integration tests."
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "sleep_before_ms": {
            "type": "number",
            "description": "Optional delay in milliseconds before any other action"
          },
          "sleep_after_ms": {
            "type": "number",
            "description": "Optional delay in milliseconds after completing the barrier"
          },
          "barrier": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Identifier shared by concurrent calls that should rendezvous"
              },
              "participants": {
                "type": "number",
                "description": "Number of tool calls that must arrive before the barrier opens"
              },
              "timeout_ms": {
                "type": "number",
                "description": "Maximum time in milliseconds to wait at the barrier"
              }
            },
            "additionalProperties": false,
            "required": [
              "id",
              "participants"
            ]
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "update_plan",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/handlers/plan.rs",
        "line": 46
      },
      "description": {
        "kind": "expr",
        "expr": "r#\"Updates the task plan.\nProvide an optional explanation and a list of plan items, each with a step and status.\nAt most one step can be in_progress at a time.\n\"#\n        "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "explanation": {
            "type": "string"
          },
          "plan": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "step": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "description": "One of: pending, in_progress, completed"
                }
              },
              "additionalProperties": false,
              "required": [
                "step",
                "status"
              ]
            },
            "description": "The list of steps"
          }
        },
        "additionalProperties": false,
        "required": [
          "plan"
        ]
      }
    },
    {
      "name": "view_image",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 437
      },
      "description": {
        "kind": "expr",
        "expr": "\"View a local image from the filesystem (only use if given a full filepath by the user, and the image isn't already attached to the thread context within <image ...> tags).\"\n            "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Local filesystem path to an image file"
          }
        },
        "additionalProperties": false,
        "required": [
          "path"
        ]
      }
    },
    {
      "name": "wait",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 567
      },
      "description": {
        "kind": "expr",
        "expr": "\"Wait for agents to reach a final status. Completed statuses may include the agent's final message. Returns empty status when timed out.\"\n            "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description_expr": {
              "kind": "expr",
              "expr": "\"Agent ids to wait on. Pass multiple ids to wait for whichever finishes first.\"\n                    .to_string()"
            }
          },
          "timeout_ms": {
            "type": "number",
            "description_expr": {
              "kind": "expr",
              "expr": "format!(\n                \"Optional timeout in milliseconds. Defaults to {DEFAULT_WAIT_TIMEOUT_MS}, min {MIN_WAIT_TIMEOUT_MS}, max {MAX_WAIT_TIMEOUT_MS}. Prefer longer waits (minutes) to avoid busy polling.\"\n            )"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "ids"
        ]
      }
    },
    {
      "name": "web_search",
      "kind": "web_search",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 1417
      },
      "description": {
        "kind": "note",
        "value": "ToolSpec::WebSearch { external_web_access: Option<bool> } (no JSON schema)."
      },
      "strict": null,
      "parameters": null
    },
    {
      "name": "write_stdin",
      "kind": "function",
      "source": {
        "file": "codex-rs/core/src/tools/spec.rs",
        "line": 299
      },
      "description": {
        "kind": "expr",
        "expr": "\"Writes characters to an existing unified exec session and returns recent output.\"\n                "
      },
      "strict": false,
      "parameters": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "number",
            "description": "Identifier of the running unified exec session."
          },
          "chars": {
            "type": "string",
            "description": "Bytes to write to stdin (may be empty to poll)."
          },
          "yield_time_ms": {
            "type": "number",
            "description": "How long to wait (in milliseconds) for output before yielding."
          },
          "max_output_tokens": {
            "type": "number",
            "description_expr": {
              "kind": "expr",
              "expr": "\"Maximum number of tokens to return. Excess output will be truncated.\"\n                        .to_string()"
            }
          }
        },
        "additionalProperties": false,
        "required": [
          "session_id"
        ]
      }
    }
  ],
  "duplicates": []
}
